# HTTP & TCP/IP & WebSocket

### Protocol

> 컴퓨터나 단말기 사이에서의 **메시지를 주고 받는 양식과 규칙의 체계(= 통신 규약)**

- 신호 체계, 인증, 오류 감지, 수정 기능



### HTTP (**H**yper Text **T**ransfer **P**rotocol)

> 하이퍼링크를 통하여 이곳에서 저곳으로 움직일 수 있는 텍스트문서를 교환하기 위하여 만들어진 약속
>
> HTTP 메세지 : 인터넷 상에서 클라이언트와 서버가 자원을 주고 받을 때 데이터의 규격을 정하는 것.
>
> HTTP 통신 : 단방향 통신.  Client의 요청이 있을 때만 Server가 응답하여 처리를 한 후에 연결을 끊는 방식.

![03](https://user-images.githubusercontent.com/24764210/109253651-94cc1500-7833-11eb-9aac-b1ef2298c704.jpg)



**HTTP 메세지 구조**

- **`메서드`** : 서버에서 어떤 동작이 일어나야 하는지 설명
- **`URL`** : 동작에 대한 대상을 지칭
- `HTTP 버전`: 클라가 어떤 HTTP버전으로 말하고 있는지
  - HTTP/1.0 이전에는 요청줄에 HTTP버전이 미포함이었다.



### TCP/IP(**Transmission Control Protocol / Internet Protocol)**

- TCP : **데이터 전달을 관리하는 규칙.** 데이터를 작게 나누어서 한쪽에서 다른쪽으로 옮기고, 이를 다시 조립하여 원래의 데이터로 만드는 규칙. 잘게 나눈 데이터 단위를 `패킷`이라고 하며 인터넷에서는 정보를 전달하는 단위. 패킷을 조립하고 손실된 패킷 확인하고, 패킷 재전송 요청.

- IP : **인터넷 상의 주소 규칙.** 주소 고갈로 인해 **IPv4**(2⁸x4) -> **IPv6**(16⁴x8)로 전환 중.

  - IPv4 : 32비트(= 4바이트)를 8비트씩 4부분으로 나누어 각 부분당 0 ~ 255까지의 숫자(10진수)로 표현 가능하고 약 43억개의 주소를 생성.

    ​			예) `210.113.39.224`

  - IPv6 : 128비트(=16바이트)를 16비트씩 8부분으로 나누어 앞의 64비트는 네트워크 주소로, 뒤의 64비트는 네트워크에 연결된 랜카드 장비 등에 할당하는 인터페이스 주소로 지정(16진수)하며 약 1조개 이상의 주소를 생성.

    ​			예) `2001:230:abcd:ffff:0000:0000:ffff:1111`





##### TCP/IP 4계층

시스템들의 연결을 위한 모델인 `OSI(Open Systems Interconnections)7계층`처럼 `TCP/IP 4계층`은 이를 웹 서비스에 맞게 단순화시킨 모델.

![0](https://user-images.githubusercontent.com/24764210/108847423-04b78100-7623-11eb-8199-314cf9d1c273.PNG)





##### 클라이언트와 서버의 통신 과정

![1](https://user-images.githubusercontent.com/24764210/108846224-ad64e100-7621-11eb-9e74-63c8bad75d23.PNG)

클라이언트로부터 특정 주소로 요청이 들어오면 DNS 상에서 IP주소를 받아옵니다 → HTTP 계층에서 HTTP 메시지를 작성합니다 → TCP 계층에서 HTTP 메시지를 패킷으로 분해합니다. → IP계층에서 전송위치를 확인하고 → 네트워크를 통하여 전송합니다. 그 이후는 위의 과정의 역순으로 진행하여 처리합니다.



`Ethernet(이더넷)` : 근거리통신망(LAN)의 네트워크 규격(구성 방식). 유선 네트워크 인터페이스는 거의 이더넷.

각 기기들이 고유의 MAC주소( '다른 전자기기들과 유일하게 구분되는 식별자')를 가지고 이걸 통해 전자 기기, 즉 호스트 간의 데이터를 주고 받을 수 있는 방식.





### Websocket

- 소켓(Socket) : 프로그램이 네트워크 상에서 데이터를 송신과 수신을 하기 위한 연결부.
- 소켓 통신 : Server와 Client가 특정 Port를 통해 실시간으로 양방향 통신을 하는 방식. Server 역시 Client로 요청을 보낼 수 있음. 실시간 통신.
- 웹 소켓 : HTTP 레이어에서 작동하는 소켓. IP, PORT 를 통해 통신한다는 점에서는 비슷. TCP 80포트 를 사용하면서 HTTP 프로토콜과 호환되며, 웹브라우저와 서버간 통신을 가능하게 함. 트래픽이 많고 지연이 낮은 접속 환경에서 유리.





[자료 출처]

https://chrisjune-13837.medium.com/web-http-tcp-ip-%EB%A9%94%EC%8B%9C%EC%A7%80%EB%9E%80-4b2721fe296f

https://itstart-190126.tistory.com/75

https://ryusae.tistory.com/4